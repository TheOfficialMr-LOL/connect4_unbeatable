<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mini TypeRacer Clone</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      background-color: #f0f4f8;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    #textDisplay {
      background: #fff;
      border: 2px solid #ccc;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      font-size: 1.2rem;
      line-height: 1.5;
    }
    #inputArea {
      width: 100%;
      height: 100px;
      font-size: 1.2rem;
      padding: 0.5rem;
      border-radius: 8px;
      border: 2px solid #ccc;
    }
    #stats {
      margin-top: 1rem;
      font-size: 1rem;
    }
    button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border-radius: 6px;
      border: none;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #45a049;
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
  </style>
</head>
<body>

  <h1>Mini TypeRacer Clone</h1>

  <div id="textDisplay"></div>
  <textarea id="inputArea" placeholder="Start typing here..."></textarea>

  <div id="stats"></div>
  <button onclick="restart()">Restart</button>

  <script>
    const sentences = [
      "The quick brown fox jumps over the lazy dog.",
      "Practice makes perfect when typing fast.",
      "Speed and accuracy both matter in typing tests.",
      "JavaScript is fun when building interactive web apps."
    ];

    let targetText = "";
    let startTime = null;
    let isFinished = false;

    function loadText() {
      targetText = sentences[Math.floor(Math.random() * sentences.length)];
      document.getElementById('textDisplay').innerText = targetText;
      document.getElementById('inputArea').value = "";
      document.getElementById('stats').innerHTML = "";
      startTime = null;
      isFinished = false;
    }

    loadText();

    document.getElementById('inputArea').addEventListener('input', function() {
      const input = this.value;

      if (!startTime) {
        startTime = new Date();
      }

      if (input === targetText) {
        const endTime = new Date();
        const timeTaken = (endTime - startTime) / 1000; // in seconds
        const wordCount = targetText.split(' ').length;
        const wpm = Math.round((wordCount / timeTaken) * 60);

        let correctChars = 0;
        for (let i = 0; i < input.length; i++) {
          if (input[i] === targetText[i]) correctChars++;
        }
        const accuracy = Math.round((correctChars / targetText.length) * 100);

        document.getElementById('stats').innerHTML = `
          <p>‚úÖ Completed!</p>
          <p>‚è± Time: ${timeTaken.toFixed(2)} seconds</p>
          <p>‚ö° WPM: ${wpm}</p>
          <p>üéØ Accuracy: ${accuracy}%</p>
        `;
        isFinished = true;
      } else {
        highlightText(input);
      }
    });

    function highlightText(input) {
      let html = "";
      for (let i = 0; i < targetText.length; i++) {
        if (i < input.length) {
          if (input[i] === targetText[i]) {
            html += `<span class="correct">${targetText[i]}</span>`;
          } else {
            html += `<span class="incorrect">${targetText[i]}</span>`;
          }
        } else {
          html += targetText[i];
        }
      }
      document.getElementById('textDisplay').innerHTML = html;
    }

    function restart() {
      loadText();
    }
  </script>

</body>
</html>
